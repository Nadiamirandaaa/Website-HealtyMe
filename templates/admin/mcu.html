{% extends 'base.html' %} {% block title %}HealtyMe - Admin{% endblock %} {%
block content %}

<!-- Start Hero -->
<div class="hero">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 col-md-8">
        <div class="intro-excerpt">
          <h3>HealtyMe</h3>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Hero -->

<div class="card mx-5">
  <div class="card-body d-flex justify-content-between align-items-center">
    <h5>
      Medical Check Up (MCU) {% for mcu in informasi.antrian %}{% endfor %}
    </h5>
  </div>
  <form id="form_mcu" class="mx-auto w-75">
    <div class="mb-3">
      <label for="user_id">Select User Akun</label>
      <select name="user" id="user_id" name="user_id">
        {% for user in all_users %}
        <option value="{{ user.id }}">{{ user.nama }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label for="nama">Nama</label>
      <input type="text" id="nama" name="nama" value="" />
    </div>

    <div class="mb-3">
      <label for="tanggal_lahir">Tanggal Lahir</label>
      <input type="text" id="tanggal_lahir" name="tanggal_lahir" required />
    </div>

    <div class="mb-3">
      <label for="umur">Umur</label>
      <input type="number" id="umur" name="umur" required />
    </div>

    <div class="mb-3">
      <label for="jenis_kelamin">Jenis Kelamin</label>
      <input type="text" id="jenis_kelamin" name="jenis_kelamin" required />
    </div>

    <div class="mb-3">
      <label for="alamat">Alamat</label>
      <input type="text" id="alamat" name="alamat" required />
    </div>

    <div class="mb-3">
      <label for="tanggal_pemeriksaan">Tanggal Pemeriksaan</label>
      <input
        type="text"
        id="tanggal_pemeriksaan"
        name="tanggal_pemeriksaan"
        required
      />
    </div>

    <div class="mb-3">
      <label for="berat_badan">Berat Badan (BB)</label>
      <input type="number" id="berat_badan" name="berat_badan" required />
    </div>

    <div class="mb-3">
      <label for="tinggi_badan">Tinggi Badan (TB)</label>
      <input type="number" id="tinggi_badan" name="tinggi_badan" required />
    </div>

    <div class="mb-3">
      <label for="tekanan_darah">Tekanan Darah</label>
      <input type="text" id="tekanan_darah" name="tekanan_darah" required />
    </div>

    <div class="mb-3">
      <label for="kolesterol_total">Kolesterol Total (mg/dL):</label>
      <input
        type="text"
        id="kolesterol_total"
        name="kolesterol_total"
        required
      />
    </div>

    <div class="mb-3">
      <label for="kolesterol_hdl">Kolesterol HDL (mg/dL):</label>
      <input type="text" id="kolesterol_hdl" name="kolesterol_hdl" required />
    </div>

    <div class="mb-3">
      <label for="kolesterol_ldl">Kolesterol LDL (mg/dL):</label>
      <input type="text" id="kolesterol_ldl" name="kolesterol_ldl" required />
    </div>

    <div class="mb-3">
      <label for="gula_darah_puasa">Gula Darah Puasa (mg/dL):</label>
      <input
        type="text"
        id="gula_darah_puasa"
        name="gula_darah_puasa"
        required
      />
    </div>

    <div class="mb-3">
      <label for="gula_darah_sewaktu">Gula Darah Sewaktu (mg/dL):</label>
      <input
        type="text"
        id="gula_darah_sewaktu"
        name="gula_darah_sewaktu"
        required
      />
    </div>

    <div class="mb-3">
      <label for="gula_darah_sesudah_makan"
        >Gula Darah Sesudah Makan (mg/dL):</label
      >
      <input
        type="text"
        id="gula_darah_sesudah_makan"
        name="gula_darah_sesudah_makan"
        required
      />
    </div>

    <div class="mb-3">
      <label for="warna_urine">Warna Urine</label>
      <input type="text" id="warna_urine" name="warna_urine" required />
    </div>

    <div class="mb-3">
      <label for="kejernihan_urine">Kejernihan Urine</label>
      <input
        type="text"
        id="kejernihan_urine"
        name="kejernihan_urine"
        required
      />
    </div>

    <div class="mb-3">
      <label for="nitrit_urine">Nitrit Urine</label>
      <input type="text" id="nitrit_urine" name="nitrit_urine" required />
    </div>

    <div class="mb-3">
      <label for="protein_urine">Protein Urine</label>
      <input type="text" id="protein_urine" name="protein_urine" required />
    </div>

    <div class="mb-3">
      <label for="glukosa_urine">Glukosa Urine</label>
      <input type="text" id="glukosa_urine" name="glukosa_urine" required />
    </div>

    <button
      type="button"
      class="btn btn-secondary mx-auto"
      onclick="savehasilmcu()"
      style="width: calc(100% - 700px)"
    >
      Submit MCU
    </button>
  </form>
</div>

<script>
  function savehasilmcu() {
    var formData = {
      user_id: $('#user_id').val(),
      nama: $('#nama').val(),
      tanggal_lahir: $('#tanggal_lahir').val(),
      umur: $('#umur').val(),
      jenis_kelamin: $('#jenis_kelamin').val(),
      alamat: $('#alamat').val(),
      tanggal_pemeriksaan: $('#tanggal_pemeriksaan').val(),
      berat_badan: $('#berat_badan').val(),
      tinggi_badan: $('#tinggi_badan').val(),
      tekanan_darah: $('#tekanan_darah').val(),
      kolesterol_total: $('#kolesterol_total').val(),
      kolesterol_hdl: $('#kolesterol_hdl').val(),
      kolesterol_ldl: $('#kolesterol_ldl').val(),
      gula_darah_puasa: $('#gula_darah_puasa').val(),
      gula_darah_sewaktu: $('#gula_darah_sewaktu').val(),
      gula_darah_sesudah_makan: $('#gula_darah_sesudah_makan').val(),
      warna_urine: $('#warna_urine').val(),
      kejernihan_urine: $('#kejernihan_urine').val(),
      nitrit_urine: $('#nitrit_urine').val(),
      protein_urine: $('#protein_urine').val(),
      glukosa_urine: $('#glukosa_urine').val(),
    };

    $.ajax({
      type: 'POST',
      url: '/save_hasil_mcu',
      data: formData,
      dataType: 'json',
      // encode: true
    }).done(function (data) {
      alert('Data berhasil disimpan');
      window.location.href = '/admin/hasil';
    });
  }
</script>
{% endblock %}
